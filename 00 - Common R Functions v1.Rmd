---
title: "Common R Function"
output: 
  html_notebook:
    toc: TRUE
---
<a name="top"></a>  <br> <br>    




<!-- ###############   New   Topic    ##################   --> 
# Markdown  



### Index  

in Beggning  
important line order
```{r}
---
title: "Common R Function"
output: 
  html_notebook:
    toc: TRUE
---

```

Option for flot Index on left 
```{r}
---
title: "Common R Function"
output: 
  html_notebook:
    toc: TRUE
    toc_float: TRUE
---

```


### Finish paragraph - Next Line
2 spaces or \\ in end line(paragraph)    
Doens't matter if you do 2 spaces inside line  
Empaty line, we need use \\ or \<br> to word. (2 spaces doesn't work)  
To show spaces In Tools -> Global Options -> Code -> Display, check "Show whitespace characters".  
```{r}
# \
```
  
  
  
### Space betwen topic
<!--   end topic    -->
<a href="#top">
  Back to top of page
  </a> 
<br> <br> <br> <br> <br> 

  
  
  
  
<!-- ###############   New   Topic    ##################   --> 
```{r}
#<!--   end topic    -->
#<a href="#top">
#  Back to top of page
#  </a> 
#<br> <br> <br> <br> <br> 
#
#  
#  
#  
#  
#<!-- ###############   New   Topic    ##################   --> 
```
\

###  link Top of page   
  
<a href="#top">
  Back to top of page
  </a>  

Code rMarkdown
```{r}
#<a name="top"></a>

#<a href="#top">
#   Back to top of page
#   </a>
```
<br>

### link and tips
Blog Post: [Getting and Cleaning Data Review](https://medium.com/@GalarnykMichael/review-course-1-the-data-scientists-toolbox-jhu-coursera-4d7459458821#.5jpg133ln "Click to go to Repo") \
```{r}
# Blog Post: [Getting and Cleaning Data Review](https://medium.com/@GalarnykMichael/review-course-1-the-data-scientists-toolbox-jhu-coursera-4d7459458821#.5jpg133ln "Click to go to Repo") \

```

\
\
  
### Bold, Italic, color  

*italic*   **bold**

_italic_   __bold__

```{r}
 #*italic*   **bold**

 #_italic_   __bold__
```
<br> 

Text  
<span style="color:red">my text here</span> another texte here  
\
Paragrafo  
<p style="color:red"> my text here </p>

```{r}
#Text   <span style="color:red">
#my text here
#</span>

#Paragrafo
#<p style="color:red">
#my text here
#</p>

```
\
\


### Strike , underline to insert texte

My favorite color is <del>blue</del> <ins>red</ins>! \
My favorite color is ~~blue~~ <ins>red</ins>!

```{r}
# My favorite color is <del>blue</del> <ins>red</ins>!
# My favorite color is ~~blue~~ <ins>red</ins>!
```
<br> 


### Next Line
```{r}
# <br>
```
<br>


### Line Separator
```{r}
#<hr>
# <hr style="height:2px;border-width:0;color:gray;background-color:gray">
```
<hr>
<br>


### Comment for organize code of Markdown
```{r}
#<!-- ###############   New   Topic    ##################   --> 

```
<!-- ###############   New   Topic    ##################   --> 
 

<!--   end topic    -->
<a href="#top">
  Back to top of page
  </a> 
<br> <br> <br> <br> <br> 

  
  
  
  
<!-- ###############   New   Topic    ##################   --> 
# General

### Studio Clean Environment

```{r environment clear}
rm(list = ls())

```

### Clen console  crt+L
\


<!--   end topic    -->
<a href="#top">
  Back to top of page
  </a> 
<br> <br> <br> <br> <br> 

  
  
  
  
<!-- ###############   New   Topic    ##################   --> 
# Getting and Cleaning Data

Data of Examples
```{r}
# install.packages("data.table)
library("data.table")


# Download data and read FGDP data into data.table
FGDP <- data.table::fread('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv'
                          , skip=4
                          , nrows = 190
                          , select = c(1, 2, 4, 5)
                          , col.names=c("CountryCode", "Rank", "Economy", "Total")
                          )

# Download data and read FGDP data into data.table
FEDSTATS_Country <- data.table::fread('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv'
                                      )
                                      
mergedDT <- merge(FGDP, FEDSTATS_Country, by = 'CountryCode')

```




### Download File and Read
/
Data as tibble  
```{r}
library(tidyverse)


#data file
fileUrl <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv"

download.file(fileUrl, destfile = "gss06hid.csv"
              , method = "curl" )

# read csv as tibble
gss06hid <- read_csv("gss06hid.csv")

```
/
When need adapt to file
```{r}
# install.packages("data.table)
library("data.table")


# Download data and read FGDP data into data.table
FGDP <- data.table::fread('https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv'
                          , skip=4
                          , nrows = 190
                          , select = c(1, 2, 4, 5)
                          , col.names=c("CountryCode", "Rank", "Economy", "Total")
                          )

```
\

### subset and show especific


### Merge Data
```{r}
                                      
mergedDT <- merge(FGDP, FEDSTATS_Country, by = 'CountryCode')

```
\

### Order Data
```{r}
# Sort descent order
mergedDT[order(-Rank)]


# Sort the data frame in descending order by GDP rank (so United States is last). 
# What is the 13th country in the resulting data frame? put .before name
mergedDT[order(-Rank)][13,.(Economy)]

# show vector
mergedDT[order(-Rank)][,.(Rank, Economy)]
```
\

### mean on subset specific

What is the average GDP ranking for the "High income: OECD" and "High income: nonOECD" group

```{r}
mergedDT[`Income Group` == "High income: nonOECD"
         , lapply(.SD, mean)
         , .SDcols = c("Rank")
         , by = "Income Group"]
```
\

### MEtacharacters

```{r}
# ^ start line
^i think

# $ end of line
morning$
  
# [] set of caracter
[Bu]~upper or lower case
[0-9][a-zA-Z] 

# ^not 

# "."  any caracter

# | (or)

# ? option

# \ to use a next caracter 
# like \. use a dot .

# * any 

# + at leas one

```
\

### Replace ',' in values, convert in integer, and mean

```{r}
# Removed the s from https to be compatible with windows computers. 
# Skip first 5 rows and only read in relevent columns
GDPrank <- data.table::fread('http://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv'
                    , skip=5
                    , nrows=190
                    , select = c(1, 2, 4, 5)
                    , col.names=c("CountryCode", "Rank", "Country", "GDP")
)

GDPrank[, gsub(pattern = ',', replacement = '', x = GDP)]

#converte in integer
GDPrank[, mean(as.integer(gsub(pattern = ',', replacement = '', x = GDP)))]

# mean
GDPrank[, mean(as.integer(gsub(pattern = ',', replacement = '', x = GDP)))]


```
\

### col names with space . use `name with space`

countrys[, `Special Notes`])


### Replace ',' in values



<br> <br><br><br><br><br> <hr>   <br>

